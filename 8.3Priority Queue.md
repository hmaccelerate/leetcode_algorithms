I am going to use Priority queue to solve this problem. First, I will sort the courses. I am going to iterate all the courses. and I will let current  duration plus next course duration, and the sum is less than next course close time, I will add into priority queue. otherwise, I will remove top element from priority queue and add this course into priority queue. after iteration, the size of priority queue is the course we can take.

